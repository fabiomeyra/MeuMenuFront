<app-header></app-header>
<div class="container pt-4 pb-3 py-sm-4">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb flex-lg-nowrap justify-content-center justify-content-lg-start">
            <li class="breadcrumb-item"><a class="text-nowrap" routerLink="/"><i class="ci-home"></i>Home</a></li>
            <li class="breadcrumb-item text-nowrap active" aria-current="page">Acompanhar Pedidos</li>
        </ol>
    </nav>
    <div class="rounded-3 shadow-lg mt-4 mb-5">
        <ul class="nav nav-tabs nav-justified mb-sm-4">
            <li class="nav-item"><a class="nav-link fs-lg fw-medium py-4 active" href="javascript:void(0)"
                    routerLink="/acompanhar-pedidos">Acompanhar Pedidos</a></li>
            <li class="nav-item disa">
                <a class="nav-link fs-lg fw-medium py-4" href="javascript:void(0)">
                    Detalhes do Pedido
                </a>
            </li>
        </ul>
        <div class="px-3 px-sm-4 px-xl-5 pt-1 pb-4 pb-sm-5">
            <div class="row">
                <div class="col-lg-12 col-md-12 pt-sm-2">
                    <div class="row pb-4">
                        <div class="col-lg-6 col-md-7 pt-sm-2">
                            <div class="input-group">
                                <span class="input-group-text fw-medium">Situação Pedido</span>
                                <select class="form-select" (change)="changeSituacao($event)">
                                    <option value="0">Selecione</option>
                                    <option *ngFor="let situacao of situacoes" value="{{situacao.situacaoPedidoId}}">
                                        {{situacao.situacaoPedidoDescricao}}</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <app-loading *ngIf="isLoading"></app-loading>
                    <div class="row pb-4 pt-3" *ngIf="!isLoading">
                        <div class="table-responsive">
                            <table class="table table-striped">
                                <thead>
                                    <tr class="text-center">
                                        <th>ID</th>
                                        <th>Mesa</th>
                                        <th>Data de Cadastro</th>
                                        <th>Produtos</th>
                                        <th>Status</th>
                                        <th>Valor</th><!-- TODO: só mostrar para admin -->
                                        <th>#</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let pedido of pedidos">
                                        <td>{{ pedido.pedidoId }}</td>
                                        <td>{{ pedido.pedidoMesa }}</td>
                                        <td>{{ pedido.dataCadastro }}</td>
                                        <td>{{ pedido.produtosResumo }}</td>
                                        <td>{{ pedido.situacaoPedidoDrescricao }}</td>
                                        <td>{{ pedido.valorTotal | currency: "BRL" }}</td>
                                        <td class="text-center">
                                            <button type="button" class="btn btn-info btn-icon"
                                                (click)="visualizarPedido(pedido)"
                                                ngbTooltip="Visualizar dados do pedido">
                                                <i class="ci-eye"></i>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<app-footer></app-footer>